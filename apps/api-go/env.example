# apps/api-go environment variables (copy to apps/api-go/.env locally)

PORT=3000

# Firestore Database (required)
GCP_PROJECT_ID=your-gcp-project-id
FIRESTORE_DATABASE=(default)
# For local development with Firestore emulator:
# FIRESTORE_EMULATOR_HOST=localhost:8080

JWT_SECRET=change-me

REFRESH_TOKEN_HMAC_KEYS=[{"id":1,"key_b64":"REPLACE_WITH_BASE64_32B_OR_MORE=="}]
REFRESH_TOKEN_HMAC_ACTIVE_KEY_ID=1

FRONTEND_URL=http://localhost:5173

GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:3000/api/auth/google/callback

UPLOAD_PATH=./uploads

# GCS Storage (when using GCS for assets)
GCS_ASSETS_BUCKET=
PUBLIC_ASSETS_BASE_URL=

# Publishing
PUBLISHED_BASE_DOMAIN=localhost
PUBLISH_ARTIFACT_STORE=filesystem

SNAPSHOT_RENDERER_SCRIPT=/absolute/path/to/apps/builder/src/template-engine/src/renderPublishedHTML.js
SNAPSHOT_RENDERER_NODE=node

PUBLISHED_ARTIFACTS_DIR=./published
PUBLISHED_ARTIFACTS_PUBLIC_BASE=http://localhost:3000

# R2 (when PUBLISH_ARTIFACT_STORE=r2)
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET=
R2_PUBLIC_BASE=

# Version retention: number of published versions to keep (default: 3)
# Older versions are automatically deleted after publishing
PUBLISH_VERSION_RETENTION_COUNT=3

# Email Service Configuration
# Supports single or multiple vendors using the same configuration format

# Option 1: Comma-separated vendor list (recommended)
# Single vendor example:
EMAIL_VENDORS=mailjet

# Multiple vendors example:
# EMAIL_VENDORS=mailjet,mailgun

# Mailjet Configuration
MAILJET_API_KEY=
MAILJET_SECRET_KEY=
MAILJET_DAILY_LIMIT=200
MAILJET_MONTHLY_LIMIT=6000

# Mailgun Configuration
MAILGUN_API_KEY=
MAILGUN_DOMAIN=
MAILGUN_DAILY_LIMIT=100
MAILGUN_MONTHLY_LIMIT=3000

# Default email settings (used if vendor doesn't specify)
EMAIL_FROM_ADDRESS=
EMAIL_FROM_NAME=Sacred Vows

# Option 2: JSON configuration for advanced multi-vendor setup
# EMAIL_VENDORS_JSON=[{"provider":"mailjet","api_key":"...","secret_key":"...","daily_limit":200,"monthly_limit":6000,"enabled":true,"from_address":"noreply@example.com","from_name":"Sacred Vows"},{"provider":"mailgun","api_key":"...","domain":"...","daily_limit":100,"monthly_limit":3000,"enabled":true}]


