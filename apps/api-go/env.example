# apps/api-go environment variables (copy to apps/api-go/.env locally)
# 
# IMPORTANT: Non-sensitive configuration is now in YAML files at apps/api-go/config/
# See apps/api-go/config/local.yaml, dev.yaml, or prod.yaml for non-sensitive settings
#
# This file should only contain SENSITIVE variables that cannot be in version control.

# Environment selection (determines which config file to load)
# Options: local, dev, prod (defaults to local if not set)
APP_ENV=local

# Firestore Database (required - infrastructure-level)
GCP_PROJECT_ID=your-gcp-project-id
FIRESTORE_DATABASE=(default)
# For local development with Firestore emulator:
# FIRESTORE_EMULATOR_HOST=localhost:8080

# Authentication Secrets (REQUIRED - sensitive)
JWT_SECRET=change-me
REFRESH_TOKEN_HMAC_KEYS=[{"id":1,"key_b64":"REPLACE_WITH_BASE64_32B_OR_MORE=="}]
REFRESH_TOKEN_HMAC_ACTIVE_KEY_ID=1

# Google OAuth (sensitive)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# Email Service API Keys (sensitive)
# Note: Email vendor selection, limits, and from address/name are in config files
MAILJET_API_KEY=
MAILJET_SECRET_KEY=
MAILGUN_API_KEY=

# R2 Storage Credentials (sensitive - when using R2 for publishing)
# For local MinIO: R2_ENDPOINT=http://localhost:9000 (or http://minio:9000 in Docker)
# For Cloudflare R2: Leave R2_ENDPOINT empty and set R2_ACCOUNT_ID instead
R2_ENDPOINT=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=

# GCS Storage (non-sensitive - configured in YAML config files)
# GCS_ASSETS_BUCKET is now in config/{env}.yaml
# Can still be overridden via environment variables if needed
# Note: GCS bucket is private - assets accessed via signed URLs, not public URLs

# S3/MinIO Storage for Assets (sensitive - for local development with MinIO)
# For local MinIO: S3_ENDPOINT=http://localhost:9000 (or http://minio:9000 in Docker)
# S3_ACCESS_KEY_ID and S3_SECRET_ACCESS_KEY should match MinIO credentials
S3_ENDPOINT=
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
# S3_ASSETS_BUCKET is in config/{env}.yaml, but can be overridden here
S3_ASSETS_BUCKET=
S3_REGION=us-east-1

# Publishing (infrastructure-level, set by Terraform in deployed environments)
# Note: PUBLISHED_BASE_DOMAIN, PUBLISH_ARTIFACT_STORE, and other non-sensitive publishing
# settings are in config files. Only sensitive R2 credentials are here.
# R2_ACCOUNT_ID is only needed for Cloudflare R2 (not for local MinIO)
R2_ACCOUNT_ID=
R2_BUCKET=
R2_PUBLIC_BASE=
# Public Assets R2 Bucket (for default images, layouts, music)
PUBLIC_ASSETS_R2_BUCKET=
PUBLIC_ASSETS_CDN_URL=

# Snapshot Renderer (optional - only if different from config file)
# SNAPSHOT_RENDERER_SCRIPT=/absolute/path/to/apps/builder/src/template-engine/src/renderPublishedHTML.js
# SNAPSHOT_RENDERER_NODE=node

# Published Artifacts (optional - only if different from config file)
# PUBLISHED_ARTIFACTS_DIR=./published
# PUBLISHED_ARTIFACTS_PUBLIC_BASE=http://localhost:3000

# OpenTelemetry Configuration
# Set to false to disable observability entirely (no overhead when disabled)
OTEL_ENABLED=true
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_EXPORTER_OTLP_PROTOCOL=grpc
OTEL_SERVICE_NAME=sacred-vows-api
OTEL_SERVICE_VERSION=unknown
OTEL_RESOURCE_ATTRIBUTES=deployment.environment=local
OTEL_TRACES_SAMPLER=traceidratio
OTEL_TRACES_SAMPLER_ARG=0.1
