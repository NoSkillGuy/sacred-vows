name = "dev-published-sites"  # Must match Terraform name: ${environment}-published-sites
main = "src/index.ts"
compatibility_date = "2024-12-01"  # Match Terraform compatibility_date
account_id = "7aa0cce061cd1cf948e79d3353b9b532"  # Cloudflare Account ID (bypasses User Details permission requirement)

[vars]
# For dev: base domain is sacredvows.io, subdomains use *-dev.sacredvows.io pattern
# Worker will strip "-dev" suffix when extracting subdomain
PUBLISHED_BASE_DOMAIN = "sacredvows.io"
API_ORIGIN = "https://api.dev.sacredvows.io/api"
RESOLVE_CACHE_TTL_SECONDS = "30"

# R2 bucket binding (must match Terraform)
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "sacred-vows-published-dev"

# Routes configuration - tells Wrangler where to deploy the worker
# Note: Routes are managed separately via wrangler triggers or Cloudflare Dashboard
# For now, deploy without routes and configure them via Terraform or Dashboard


